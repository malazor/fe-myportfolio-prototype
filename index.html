<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MyPortfolio</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- (Opcional) Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Adaptador de tiempo -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <!-- Plugin financial para velas -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial"></script>

    <style>
        /* Estilos rápidos para tu prototipo */
        :root {
            --brand: #0d6efd;
        }

        body {
            background: #f8f9fa;
        }

        .card {
            border-radius: 14px;
        }

        .hero {
            background: linear-gradient(120deg, var(--brand), #6610f2);
            color: #fff;
            border-radius: 18px;
        }
    </style>
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand fw-semibold" href="#"><i class="bi bi-bar-chart"></i> My Portfolio</a>
            <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav"
                aria-expanded="false">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div id="nav" class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="#">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="#features">Características</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contacto">Contacto</a></li>
                    <li class="nav-item"><button class="btn btn-outline-light ms-lg-3" data-bs-toggle="modal"
                            data-bs-target="#loginModal">Ingresar</button></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Search -->
    <section id="busqueda" class="py-4 bg-light">
        <div class="container">
            <h4 class="mb-3">Buscar Asset</h4>
            <div class="dropdown">
                <input type="text" class="form-control dropdown-toggle" id="searchDropdown" data-bs-toggle="dropdown"
                    aria-expanded="false" placeholder="Buscar asset...">
                <ul class="dropdown-menu w-100" aria-labelledby="searchDropdown">
                    <li><a class="dropdown-item" href="#">Apple (AAPL)</a></li>
                    <li><a class="dropdown-item" href="#">Microsoft (MSFT)</a></li>
                    <li><a class="dropdown-item" href="#">Amazon (AMZN)</a></li>
                    <li><a class="dropdown-item" href="#">Tesla (TSLA)</a></li>
                    <li><a class="dropdown-item" href="#">Google (GOOGL)</a></li>
                </ul>
            </div>
        </div>
    </section>
    <!-- Cards / Features -->
    <section id="features" class="container my-5">
        <div class="row g-4">
            <h3 class="mb-1">Assets</h3>
            <div class="col-md-6">
                <div class="d-flex flex-column gap-3">

                    <!-- Card 1 -->
                    <div class="card shadow-sm">
                        <!-- Header -->
                        <div class="card-header d-flex align-items-center justify-content-between"
                            data-bs-toggle="collapse" data-bs-target="#card1-body" role="button" aria-expanded="false"
                            aria-controls="card1-body">

                            <h5 class="mb-0 fw-bold">APL</h5>
                            <span class="text-secondary fs-6">205.30 <span class="fw-semibold">USD</span></span>
                            <span class="text-success fw-bold">+1.25% ↑</span>

                            <!-- Botón quitar -->
                            <button type="button" class="btn btn-outline-danger btn-sm ms-2"
                                title="Quitar del portafolio" onclick="this.closest('.card').remove()">
                                <i class="bi bi-trash-fill"></i>
                            </button>
                        </div>

                        <!-- Body colapsable -->
                        <div id="card1-body" class="collapse">
                            <div class="card-body">
                                <div class="row">
                                    <!-- Detalle -->
                                    <div class="col-12 mb-3">
                                        <h6>Detalle</h6>
                                        <div class="row small">
                                            <div class="col-6">
                                                <ul class="list-unstyled mb-0">
                                                    <li><strong>Market Cap:</strong> $2.5T</li>
                                                    <li><strong>P/E Ratio:</strong> 28.5</li>
                                                    <li><strong>Volumen:</strong> 89M</li>
                                                    <li><strong>Open:</strong> $203.50</li>
                                                </ul>
                                            </div>
                                            <div class="col-6">
                                                <ul class="list-unstyled mb-0">
                                                    <li><strong>Day Range:</strong> $202.80 – $207.20</li>
                                                    <li><strong>52W Range:</strong> $165.20 – $230.00</li>
                                                    <li><strong>Dividend Yield:</strong> 0.65%</li>
                                                    <li><strong>Beta:</strong> 1.12</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <hr>
                                    <!-- Gráfico -->
                                    <div class="col-12">
                                        <h6>Gráfico</h6>
                                        <canvas id="candleAPL" height="180"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Card 2 -->
                    <div class="card shadow-sm">
                        <div class="card-header d-flex align-items-center justify-content-between"
                            data-bs-toggle="collapse" data-bs-target="#card2-body" role="button" aria-expanded="false"
                            aria-controls="card2-body">

                            <h5 class="mb-0 fw-bold">TSLA</h5>
                            <span class="text-secondary fs-6">685.40 <span class="fw-semibold">USD</span></span>
                            <span class="text-danger fw-bold">-0.80% ↓</span>

                            <button type="button" class="btn btn-outline-danger btn-sm ms-2"
                                title="Quitar del portafolio" onclick="this.closest('.card').remove()">
                                <i class="bi bi-trash-fill"></i>
                            </button>
                        </div>
                        <div id="card2-body" class="collapse">
                            <div class="card-body">

                                <div class="row">
                                    <!-- Detalle -->
                                    <div class="col-12 mb-3">
                                        <h6>Detalle</h6>
                                        <div class="row small">
                                            <div class="col-6">
                                                <ul class="list-unstyled mb-0">
                                                    <li><strong>Market Cap:</strong> $750B</li>
                                                    <li><strong>P/E Ratio:</strong> 68.2</li>
                                                    <li><strong>Volumen:</strong> 120M</li>
                                                    <li><strong>Open:</strong> $215.40</li>
                                                </ul>
                                            </div>
                                            <div class="col-6">
                                                <ul class="list-unstyled mb-0">
                                                    <li><strong>Day Range:</strong> $210.50 – $220.30</li>
                                                    <li><strong>52W Range:</strong> $160.20 – $280.40</li>
                                                    <li><strong>Dividend Yield:</strong> N.A</li>
                                                    <li><strong>Beta:</strong> 2.05</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <hr>
                                    <!-- Gráfico -->
                                    <div class="col-12">
                                        <h6>Gráfico</h6>
                                        <canvas id="candleTSLA" height="180"></canvas>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>

                    <!-- Card 3 -->
                    <div class="card shadow-sm">
                        <div class="card-header d-flex align-items-center justify-content-between"
                            data-bs-toggle="collapse" data-bs-target="#card3-body" role="button" aria-expanded="false"
                            aria-controls="card3-body">

                            <h5 class="mb-0 fw-bold">AMZN</h5>
                            <span class="text-secondary fs-6">3,245.00 <span class="fw-semibold">USD</span></span>
                            <span class="text-success fw-bold">+0.55% ↑</span>

                            <button type="button" class="btn btn-outline-danger btn-sm ms-2"
                                title="Quitar del portafolio" onclick="this.closest('.card').remove()">
                                <i class="bi bi-trash-fill"></i>
                            </button>
                        </div>
                        <div id="card3-body" class="collapse">
                            <div class="card-body">
                                <div class="row">
                                    <!-- Detalle -->
                                    <div class="col-12 mb-3">
                                        <h6>Detalle</h6>
                                        <div class="row small">
                                            <div class="col-6">
                                                <ul class="list-unstyled mb-0">
                                                    <li><strong>Market Cap:</strong> $1.9T</li>
                                                    <li><strong>P/E Ratio:</strong> 52.8</li>
                                                    <li><strong>Volumen:</strong> 85M</li>
                                                    <li><strong>Open:</strong> $142.70</li>
                                                </ul>
                                            </div>
                                            <div class="col-6">
                                                <ul class="list-unstyled mb-0">
                                                    <li><strong>Day Range:</strong> $140.80 – $145.90</li>
                                                    <li><strong>52W Range:</strong> $115.20 – $180.00</li>
                                                    <li><strong>Dividend Yield:</strong> N/A</li>
                                                    <li><strong>Beta:</strong> 1.25</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <hr>
                                    <!-- Gráfico -->
                                    <div class="col-12">
                                        <h6>Gráfico</h6>
                                        <canvas id="candleAMZN" height="180"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title"><i class="bi bi-briefcase"></i> Portfolio</h5>
                        <hr>
                        <h6 class="mb-3">Detalle – Portafolio</h6>
                        <div class="row small">
                            <div class="col-6">
                                <ul class="list-unstyled mb-0">
                                    <li><strong>Market Value:</strong> $100,000</li>
                                    <li><strong>Cash:</strong> 5%</li>
                                    <li><strong># Holdings:</strong> 8</li>
                                    <li><strong>1D Change:</strong> +0.80%</li>
                                    <li><strong>YTD Return:</strong> +12.4%</li>
                                    <li><strong>12M Return:</strong> +18.7%</li>
                                </ul>
                            </div>
                            <div class="col-6">
                                <ul class="list-unstyled mb-0">
                                    <li><strong>Volatilidad 30D (σ):</strong> 14.2%</li>
                                    <li><strong>Sharpe 12M (rf=4%):</strong> 0.92</li>
                                    <li><strong>Beta vs S&P 500:</strong> 1.05</li>
                                    <li><strong>Max Drawdown 12M:</strong> -9.8%</li>
                                    <li><strong>Dividend Yield (ttm):</strong> 0.7%</li>
                                    <li><strong>Expense Ratio (pond.):</strong> 0.09%</li>
                                </ul>
                            </div>
                        </div>
                        <hr>
                        <div class="col-12 mt-3">
                            <h6 class="mb-3">Composición (Top 5)</h6>
                            <div class="row small">
                                <div class="col-6">
                                    <ul class="list-unstyled mb-0">
                                        <li><strong>SPY:</strong> 25%</li>
                                        <li><strong>AMZN:</strong> 15%</li>
                                        <li><strong>TSLA:</strong> 12%</li>
                                    </ul>
                                </div>
                                <div class="col-6">
                                    <ul class="list-unstyled mb-0">
                                        <li><strong>GLD:</strong> 10%</li>
                                        <li><strong>IDEV:</strong> 8%</li>
                                        <li><strong>Resto (otros):</strong> 30%</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="col-12 mt-3">
                            <h6 class="mb-3">Exposición por Sector (Top)</h6>
                            <div class="row small">
                                <div class="col-6">
                                    <ul class="list-unstyled mb-0">
                                        <li><strong>Tecnología:</strong> 48%</li>
                                        <li><strong>Consumo Discrecional:</strong> 22%</li>
                                    </ul>
                                </div>
                                <div class="col-6">
                                    <ul class="list-unstyled mb-0">
                                        <li><strong>Financiero:</strong> 10%</li>
                                        <li><strong>Otros:</strong> 20%</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Smart tip -->
    <div class="row g-4 mt-4">
        <div class="col-md-10 mx-auto">
            <div class="card shadow-sm">
                <div class="card-header">
                    <h5 class="mb-0 fw-bold"><img src="img/Gemini-icon.png" alt="Gemini AI" width="24" height="24">
                        Gemini-Smart tip</h5>
                </div>
                <div class="card-body">
                    <p id="ai-tip-text" class="text-muted fst-italic">
                        Aquí aparecerá la recomendación de la IA sobre tu portafolio...
                    </p>
                </div>
                <div class="card-footer text-end">
                    <button class="btn btn-primary btn-sm" onclick="askAI('portfolio')">Ask AI</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="contacto" class="bg-dark text-light py-4 mt-5">
        <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center">
            <small>&copy; 2025 Tu Marca</small>
            <a class="link-light" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">Login</a>
        </div>
    </footer>

    <!-- Modal Demo -->
    <div class="modal fade" id="demoModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Modal de Demo</h5>
                    <button class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">Aquí podrías confirmar acciones del usuario.</div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button class="btn btn-primary">Aceptar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Login -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <form>
                    <div class="modal-header">
                        <h5 class="modal-title">Ingresar</h5>
                        <button class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" placeholder="tu@mail.com" required>
                        </div>
                        <div class="mb-2">
                            <label class="form-label">Contraseña</label>
                            <input type="password" class="form-control" placeholder="••••••••" required>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="remember">
                            <label class="form-check-label" for="remember">Recordarme</label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button class="btn btn-primary" type="submit">Entrar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JS opcional para interacciones -->
    <script>
        // Ejemplo: capturar envío del login sin backend
        document.querySelectorAll('#loginModal form').forEach(f => {
            f.addEventListener('submit', (e) => {
                e.preventDefault();
                alert('Login de prueba (sin backend).');
            });
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const ctx = document.getElementById('candleAPL').getContext('2d');
            const ctx1 = document.getElementById('candleTSLA').getContext('2d');
            const ctx2 = document.getElementById('candleAMZN').getContext('2d');

            new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: [
                        "2025-08-10", "2025-08-11", "2025-08-12",
                        "2025-08-13", "2025-08-14", "2025-08-15"
                    ],
                    datasets: [{
                        label: 'Precio histórico',
                        data: [221.30, 221.47, 224.56, 230.98, 231.03, 228.00],
                        borderColor: 'rgba(13, 110, 253, 1)',
                        backgroundColor: 'rgba(13, 110, 253, 0.2)',
                        tension: 0.3,              // suaviza la curva
                        pointRadius: 3,            // tamaño de puntos
                        pointBackgroundColor: '#0d6efd',
                        fill: true                 // área sombreada bajo la curva
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: true }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'Fecha' }
                        },
                        y: {
                            title: { display: true, text: 'Precio' }
                        }
                    }
                }
            });
            new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: [
                        "2025-08-10", "2025-08-11", "2025-08-12",
                        "2025-08-13", "2025-08-14", "2025-08-15"
                    ],
                    datasets: [{
                        label: 'Precio histórico',
                        data: [339.03, 340.84, 339.38, 335.58, 330.56, 329.30],
                        borderColor: 'rgba(13, 110, 253, 1)',
                        backgroundColor: 'rgba(13, 110, 253, 0.2)',
                        tension: 0.3,              // suaviza la curva
                        pointRadius: 3,            // tamaño de puntos
                        pointBackgroundColor: '#0d6efd',
                        fill: true                 // área sombreada bajo la curva
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: true }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'Fecha' }
                        },
                        y: {
                            title: { display: true, text: 'Precio' }
                        }
                    }
                }
            });
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [
                        "2025-08-10", "2025-08-11", "2025-08-12",
                        "2025-08-13", "2025-08-14", "2025-08-15"
                    ],
                    datasets: [{
                        label: 'Precio histórico',
                        data: [120, 124, 119, 125, 130, 128],
                        borderColor: 'rgba(13, 110, 253, 1)',
                        backgroundColor: 'rgba(13, 110, 253, 0.2)',
                        tension: 0.3,              // suaviza la curva
                        pointRadius: 3,            // tamaño de puntos
                        pointBackgroundColor: '#0d6efd',
                        fill: true                 // área sombreada bajo la curva
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: true }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'Fecha' }
                        },
                        y: {
                            title: { display: true, text: 'Precio' }
                        }
                    }
                }
            });
        });
    </script>
</body>

</html>